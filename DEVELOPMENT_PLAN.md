# ðŸ“‹ DEVELOPMENT PLAN: Telegram Daily Report Bot

## ðŸŽ¯ Project Overview

**Project Name:** Telegram Daily Report Bot  
**Type:** Telegram Bot + Mini App Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð½Ð¾ÑÑ‚Ð¸  
**Target Users:** 4-5 ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð² call-Ñ†ÐµÐ½Ñ‚Ñ€Ð° + 1 Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒ  
**Development Time:** 2-4 Ð½ÐµÐ´ÐµÐ»Ð¸  
**Budget:** 0â‚½ (Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ)

---

## ðŸ“Š Business Requirements

### Problem Statement
Ð¡Ð¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¸ call-Ñ†ÐµÐ½Ñ‚Ñ€Ð° Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ Ð¾ ÑÐ²Ð¾ÐµÐ¹ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŽ. Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð½ÐµÐ°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð¸ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ñ€ÑƒÑ‡Ð½Ð¾Ð³Ð¾ Ð²Ð²Ð¾Ð´Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ….

### Solution
Telegram Ð±Ð¾Ñ‚ Ñ Mini App Ñ„Ð¾Ñ€Ð¼Ð¾Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ:
- ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ°Ð¼ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ Ñ‡ÐµÑ€ÐµÐ· ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Google Ð¢Ð°Ð±Ð»Ð¸Ñ†Ñƒ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»Ñ
- ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚ Ð¾ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚
- ÐÐµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹ (Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð² Telegram)

### Key Features
1. **Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð²** - Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¿Ð¾ Telegram
2. **Ð¤Ð¾Ñ€Ð¼Ð° Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð°** - Ð¿Ñ€Ð¾ÑÑ‚Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ñ Ð¿Ð¾Ð»ÑÐ¼Ð¸ Ð´Ð»Ñ Ð²Ð²Ð¾Ð´Ð°
3. **ÐÐ²Ñ‚Ð¾Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð² Google Sheets** - Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÑ€Ð°Ð·Ñƒ Ð¿Ð¾Ð¿Ð°Ð´Ð°ÑŽÑ‚ Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ
4. **ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ** - Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚
5. **ÐÐ´Ð¼Ð¸Ð½-Ð¿Ð°Ð½ÐµÐ»ÑŒ** - Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒ Ð²Ð¸Ð´Ð¸Ñ‚ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð²

---

## ðŸ—ï¸ Technical Architecture

### Technology Stack

#### Backend
- **Language:** Python 3.11+
- **Framework:** aiogram 3.x (Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð°Ñ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° Ð´Ð»Ñ Telegram Bot API)
- **Database:** SQLite (Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð°Ñ, Ð±ÐµÐ· Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð°)
- **Scheduler:** APScheduler (Ð´Ð»Ñ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ð¹)
- **Google API:** gspread + oauth2client (Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Google Sheets)

#### Frontend (Mini App)
- **HTML5** - ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ„Ð¾Ñ€Ð¼Ñ‹
- **CSS3** - ÑÑ‚Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð´Ð¸Ð·Ð°Ð¹Ð½)
- **Vanilla JavaScript** - Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ
- **Telegram Web App API** - Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Telegram

#### Hosting & Deployment
- **Code Repository:** GitHub (version control)
- **Hosting:** Render.com (Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ð¹ Ð¿Ð»Ð°Ð½, 750 Ñ‡Ð°ÑÐ¾Ð²/Ð¼ÐµÑÑÑ†)
- **CI/CD:** Auto-deploy from GitHub (Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ð¼ Ð² Render)
- **Environment Variables:** Render.com dashboard (Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ñ‚Ð¾ÐºÐµÐ½Ð¾Ð²)

#### External Services
- **Telegram Bot API** - Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
- **Google Sheets API** - Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð²
- **Google Cloud Console** - ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ API Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼

---

## ðŸ“ Project Structure

```
telegram-report-bot/
â”‚
â”œâ”€â”€ README.md                      # ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð¸ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸
â”œâ”€â”€ DEVELOPMENT_PLAN.md            # Ð­Ñ‚Ð¾Ñ‚ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚
â”œâ”€â”€ requirements.txt               # Python Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
â”œâ”€â”€ .env.example                   # ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð° Ñ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
â”œâ”€â”€ .gitignore                     # Ð˜ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð´Ð»Ñ Git
â”œâ”€â”€ runtime.txt                    # Ð’ÐµÑ€ÑÐ¸Ñ Python Ð´Ð»Ñ Render.com
â”‚
â”œâ”€â”€ bot/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                    # Ð¢Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ð° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
â”‚   â”œâ”€â”€ config.py                  # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ (Ñ‚Ð¾ÐºÐµÐ½Ñ‹, Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸)
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ start.py               # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /start
â”‚   â”‚   â”œâ”€â”€ report.py              # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð²
â”‚   â”‚   â””â”€â”€ admin.py               # ÐÐ´Ð¼Ð¸Ð½ÑÐºÐ¸Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹
â”‚   â”œâ”€â”€ keyboards.py               # ÐšÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹ Ð¸ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð±Ð¾Ñ‚Ð°
â”‚   â”œâ”€â”€ middlewares.py             # Middleware Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°
â”‚   â””â”€â”€ states.py                  # FSM ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ (ÐµÑÐ»Ð¸ Ð¿Ð¾Ð½Ð°Ð´Ð¾Ð±ÑÑ‚ÑÑ)
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ database.py                # Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ SQLite
â”‚   â”œâ”€â”€ google_sheets.py           # Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Google Sheets
â”‚   â””â”€â”€ scheduler.py               # ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ð¹
â”‚
â”œâ”€â”€ webapp/
â”‚   â”œâ”€â”€ index.html                 # Ð¤Ð¾Ñ€Ð¼Ð° Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð° (Mini App)
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css              # Ð¡Ñ‚Ð¸Ð»Ð¸ Ñ„Ð¾Ñ€Ð¼Ñ‹
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js                 # Ð›Ð¾Ð³Ð¸ÐºÐ° Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…
â”‚
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py                  # ÐœÐ¾Ð´ÐµÐ»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ… (Users, Reports)
â”‚   â””â”€â”€ database.db                # SQLite Ñ„Ð°Ð¹Ð» (ÑÐ¾Ð·Ð´Ð°ÑÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸)
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ validators.py              # Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…
â”‚   â””â”€â”€ logger.py                  # ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
â”‚
â””â”€â”€ credentials/
    â””â”€â”€ google_credentials.json    # Google Service Account ÐºÐ»ÑŽÑ‡Ð¸ (ÐÐ• ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¸Ñ‚ÑŒ Ð² Git!)
```

---

## ðŸ—„ï¸ Database Schema (SQLite)

### Table: users
```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    telegram_id INTEGER UNIQUE NOT NULL,
    full_name TEXT NOT NULL,
    username TEXT,
    is_admin BOOLEAN DEFAULT 0,
    is_active BOOLEAN DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Table: reports
```sql
CREATE TABLE reports (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    report_date DATE NOT NULL,
    calls_count INTEGER NOT NULL,
    kp_plus INTEGER NOT NULL,
    kp INTEGER NOT NULL,
    rejections INTEGER NOT NULL,
    inadequate INTEGER NOT NULL,
    submitted_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    UNIQUE(user_id, report_date)  -- ÐžÐ´Ð¸Ð½ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ Ð² Ð´ÐµÐ½ÑŒ Ð¾Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
);
```

### Table: settings
```sql
CREATE TABLE settings (
    key TEXT PRIMARY KEY,
    value TEXT NOT NULL,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## ðŸ“Š Google Sheets Structure

### Sheet Name: "Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ñ‹Ðµ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ñ‹"

| Column | Header | Type | Description |
|--------|--------|------|-------------|
| A | Ð”Ð°Ñ‚Ð° | Date | Ð”Ð°Ñ‚Ð° Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð° (Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚: Ð”Ð”.ÐœÐœ.Ð“Ð“Ð“Ð“) |
| B | Ð¡Ð¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ðº | Text | Ð¤Ð˜Ðž ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ° |
| C | ÐšÐ¾Ð»-Ð²Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð² | Number | ÐžÐ±Ñ‰ÐµÐµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð² |
| D | ÐšÐŸ+ | Number | Ð—Ð°ÐºÑ€Ñ‹Ñ‚Ñ‹Ðµ ÑÐ´ÐµÐ»ÐºÐ¸ |
| E | ÐšÐŸ | Number | Ð’ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ |
| F | ÐžÑ‚ÐºÐ°Ð·Ñ‹ | Number | ÐžÑ‚ÐºÐ°Ð·Ñ‹ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð² |
| G | ÐÐµÐ°Ð´ÐµÐºÐ² | Number | ÐÐµÑ†ÐµÐ»ÐµÐ²Ñ‹Ðµ Ð·Ð²Ð¾Ð½ÐºÐ¸ |
| H | Ð’Ñ€ÐµÐ¼Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ | Time | Ð’Ñ€ÐµÐ¼Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð° (Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚: Ð§Ð§:ÐœÐœ) |

**Example:**
```
| Ð”Ð°Ñ‚Ð°       | Ð¡Ð¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ðº      | ÐšÐ¾Ð»-Ð²Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð² | ÐšÐŸ+ | ÐšÐŸ | ÐžÑ‚ÐºÐ°Ð·Ñ‹ | ÐÐµÐ°Ð´ÐµÐºÐ² | Ð’Ñ€ÐµÐ¼Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ |
|------------|----------------|----------------|-----|----|---------|---------|-----------------
| 18.01.2026 | Ð˜Ð²Ð°Ð½Ð¾Ð² Ð˜Ð²Ð°Ð½    | 45             | 3   | 5  | 30      | 7       | 18:45          |
| 18.01.2026 | ÐŸÐµÑ‚Ñ€Ð¾Ð² ÐŸÑ‘Ñ‚Ñ€    | 52             | 5   | 8  | 35      | 4       | 18:50          |
```

---

## ðŸ” Environment Variables

### Required Variables (Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ Ð² Render.com Ð¸Ð»Ð¸ .env Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾)

```env
# Telegram Bot
BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
ADMIN_TELEGRAM_ID=123456789

# Google Sheets
GOOGLE_SPREADSHEET_ID=1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms
GOOGLE_CREDENTIALS_PATH=credentials/google_credentials.json

# Application Settings
TIMEZONE=Europe/Moscow
REMINDER_TIME=18:00
DATABASE_PATH=database/database.db

# Logging
LOG_LEVEL=INFO
```

---

## ðŸŽ¨ User Flow & Features

### 1. Employee Registration Flow

```
User: /start
  â†“
Bot: "Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ! Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐµÐ¼ Ð²Ð°Ñ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ."
  â†“
Bot: "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÐµ Ð¤Ð˜Ðž (ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: Ð˜Ð²Ð°Ð½Ð¾Ð² Ð˜Ð²Ð°Ð½ Ð˜Ð²Ð°Ð½Ð¾Ð²Ð¸Ñ‡)"
  â†“
User: Ð’Ð²Ð¾Ð´Ð¸Ñ‚ Ð¤Ð˜Ðž
  â†“
Bot: "ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ð’Ñ‹ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ 'ðŸ“Š ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚' Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð°."
  â†“
Bot Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ:
  [ðŸ“Š ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚]
  [ðŸ“ˆ ÐœÐ¾Ð¹ ÑÑ‚Ð°Ñ‚ÑƒÑ]
  [â„¹ï¸ ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ]
```

### 2. Daily Report Submission Flow

```
User: ÐÐ°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ "ðŸ“Š ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚"
  â†“
Bot: ÐžÑ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ Telegram Mini App Ñ Ñ„Ð¾Ñ€Ð¼Ð¾Ð¹
  â†“
Mini App Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚:
  - Ð¤Ð˜Ðž (Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸, Ð½ÐµÐ»ÑŒÐ·Ñ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ)
  - Ð¢Ð°Ð±Ð»Ð¸Ñ†Ñƒ Ñ Ð¿Ð¾Ð»ÑÐ¼Ð¸:
    * ÐšÐ¾Ð»-Ð²Ð¾ Ð·Ð²Ð¾Ð½ÐºÐ¾Ð²: [____]
    * ÐšÐŸ+: [____]
    * ÐšÐŸ: [____]
    * ÐžÑ‚ÐºÐ°Ð·Ñ‹: [____]
    * ÐÐµÐ°Ð´ÐµÐºÐ²: [____]
  - ÐšÐ½Ð¾Ð¿ÐºÐ° [ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚]
  â†“
User: Ð—Ð°Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ Ð¿Ð¾Ð»Ñ Ð¸ Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ"
  â†“
Mini App: Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… (Ð²ÑÐµ Ð¿Ð¾Ð»Ñ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ†Ð¸Ñ„Ñ€Ñ‹)
  â†“
Mini App: ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð±Ð¾Ñ‚Ñƒ Ñ‡ÐµÑ€ÐµÐ· Telegram.WebApp.sendData()
  â†“
Bot: ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ, ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ð² Ð‘Ð”
  â†“
Bot: ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Google Sheets
  â†“
Bot: ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ
  "âœ… ÐžÑ‚Ñ‡Ñ‘Ñ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½! Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ Ð·Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ."
  â†“
Bot: Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÑÐµÑ‚ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»Ñ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
  "ðŸ“Š ÐÐ¾Ð²Ñ‹Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ Ð¾Ñ‚ [Ð¤Ð˜Ðž] Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½"
```

### 3. Reminder System Flow

```
ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº: ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Ð² 18:00
  â†“
Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð°: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚, ÐºÑ‚Ð¾ Ð½Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ð» Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ ÑÐµÐ³Ð¾Ð´Ð½Ñ
  â†“
Ð”Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ° Ð±ÐµÐ· Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð°:
  â†“
Bot: "â° ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÐ¼! ÐÐµ Ð·Ð°Ð±ÑƒÐ´ÑŒÑ‚Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ Ð·Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ."
  [ðŸ“Š ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ ÑÐµÐ¹Ñ‡Ð°Ñ]
  â†“
Ð•ÑÐ»Ð¸ Ñ‡ÐµÑ€ÐµÐ· 30 Ð¼Ð¸Ð½ÑƒÑ‚ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚ Ð½Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½:
  â†“
Bot: "âš ï¸ ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ! ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚."
  [ðŸ“Š ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚]
```

### 4. Admin Panel Flow

```
Admin: /admin
  â†“
Bot: "ðŸ‘¨â€ðŸ’¼ ÐÐ´Ð¼Ð¸Ð½-Ð¿Ð°Ð½ÐµÐ»ÑŒ"
  [ðŸ“Š Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð² ÑÐµÐ³Ð¾Ð´Ð½Ñ]
  [ðŸ‘¥ Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð²]
  [âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸]
  â†“
Admin: ÐÐ°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ "ðŸ“Š Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð² ÑÐµÐ³Ð¾Ð´Ð½Ñ"
  â†“
Bot: ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ:
  "ðŸ“‹ ÐžÑ‚Ñ‡Ñ‘Ñ‚Ñ‹ Ð·Ð° 18.01.2026:
  
  âœ… Ð˜Ð²Ð°Ð½Ð¾Ð² Ð˜Ð²Ð°Ð½ - Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½ Ð² 18:45
  âœ… ÐŸÐµÑ‚Ñ€Ð¾Ð² ÐŸÑ‘Ñ‚Ñ€ - Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½ Ð² 18:50
  âŒ Ð¡Ð¸Ð´Ð¾Ñ€Ð¾Ð² Ð¡Ð¸Ð´Ð¾Ñ€ - ÐÐ• Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½
  âŒ ÐšÑƒÐ·Ð½ÐµÑ†Ð¾Ð²Ð° ÐÐ½Ð½Ð° - ÐÐ• Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½
  
  ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾: 2/4"
```

---

## ðŸš€ Development Phases

### Phase 1: Project Setup & Infrastructure (Week 1)

#### Tasks:
1. **Initialize Project**
   - [ ] Create GitHub repository
   - [ ] Set up project structure
   - [ ] Create requirements.txt
   - [ ] Configure .gitignore
   - [ ] Write initial README.md

2. **Set Up Development Environment**
   - [ ] Install Python 3.11+
   - [ ] Create virtual environment
   - [ ] Install dependencies
   - [ ] Set up .env file

3. **Create Telegram Bot**
   - [ ] Talk to @BotFather in Telegram
   - [ ] Create new bot
   - [ ] Get BOT_TOKEN
   - [ ] Configure bot settings (commands, description)

4. **Set Up Google Sheets API**
   - [ ] Create Google Cloud Project
   - [ ] Enable Google Sheets API
   - [ ] Create Service Account
   - [ ] Download credentials JSON
   - [ ] Create Google Sheet for reports
   - [ ] Share sheet with service account email

5. **Database Setup**
   - [ ] Create database models (models.py)
   - [ ] Implement database service (database.py)
   - [ ] Create initialization script
   - [ ] Test database operations

#### Deliverables:
- âœ… Working project structure
- âœ… Telegram bot created and configured
- âœ… Google Sheets API connected
- âœ… Database initialized

#### Success Criteria:
- Bot responds to /start command
- Can connect to Google Sheets
- Database creates tables successfully

---

### Phase 2: Core Bot Functionality (Week 2)

#### Tasks:
1. **User Registration System**
   - [ ] Implement /start handler
   - [ ] Create user registration flow
   - [ ] Store user data in database
   - [ ] Implement user validation

2. **Main Menu & Keyboards**
   - [ ] Create main menu keyboard
   - [ ] Implement menu handlers
   - [ ] Add help command (/help)
   - [ ] Add status command (/status)

3. **Mini App Form (Frontend)**
   - [ ] Create HTML structure (index.html)
   - [ ] Design CSS styles (style.css)
   - [ ] Implement form validation (app.js)
   - [ ] Integrate Telegram Web App API
   - [ ] Test form on mobile devices

4. **Report Submission Backend**
   - [ ] Implement data receiver from Mini App
   - [ ] Validate incoming data
   - [ ] Save report to database
   - [ ] Send report to Google Sheets
   - [ ] Send confirmation to user

5. **Google Sheets Integration**
   - [ ] Implement google_sheets.py service
   - [ ] Create append_report() method
   - [ ] Format data for sheets
   - [ ] Handle API errors
   - [ ] Test with real data

#### Deliverables:
- âœ… Users can register
- âœ… Mini App form working
- âœ… Reports saved to database
- âœ… Reports appear in Google Sheets

#### Success Criteria:
- User can open Mini App from bot
- Form validates data correctly
- Reports successfully saved
- Data appears in Google Sheets

---

### Phase 3: Advanced Features (Week 3)

#### Tasks:
1. **Reminder System**
   - [ ] Implement scheduler.py
   - [ ] Set up APScheduler
   - [ ] Create daily check function
   - [ ] Send reminders to users without reports
   - [ ] Implement repeat reminders

2. **Admin Panel**
   - [ ] Create /admin command
   - [ ] Implement admin middleware
   - [ ] Show daily report status
   - [ ] Display employee list
   - [ ] Add settings management

3. **User Status Feature**
   - [ ] Implement /status command
   - [ ] Show user's today report status
   - [ ] Display recent reports history
   - [ ] Show statistics

4. **Error Handling & Logging**
   - [ ] Set up logging system (logger.py)
   - [ ] Add try-catch blocks
   - [ ] Implement error notifications
   - [ ] Create error recovery mechanisms

5. **Data Validation**
   - [ ] Implement validators.py
   - [ ] Validate report data
   - [ ] Validate user inputs
   - [ ] Handle edge cases

#### Deliverables:
- âœ… Automatic reminders working
- âœ… Admin can see all reports status
- âœ… Users can check their status
- âœ… Proper error handling

#### Success Criteria:
- Reminders sent at 18:00 daily
- Admin panel shows correct data
- No crashes on invalid input
- All errors logged properly

---

### Phase 4: Testing & Deployment (Week 4)

#### Tasks:
1. **Local Testing**
   - [ ] Test all user flows
   - [ ] Test admin features
   - [ ] Test edge cases
   - [ ] Test error scenarios
   - [ ] Performance testing

2. **Documentation**
   - [ ] Update README.md
   - [ ] Write deployment guide
   - [ ] Create user manual
   - [ ] Document API endpoints
   - [ ] Add code comments

3. **Deploy to Render.com**
   - [ ] Create Render.com account
   - [ ] Connect GitHub repository
   - [ ] Configure environment variables
   - [ ] Set up auto-deploy
   - [ ] Configure web service settings

4. **Post-Deployment Testing**
   - [ ] Test bot in production
   - [ ] Verify Google Sheets integration
   - [ ] Test reminders in production
   - [ ] Monitor logs
   - [ ] Fix any production issues

5. **User Onboarding**
   - [ ] Create user guide
   - [ ] Train employees
   - [ ] Set up admin account
   - [ ] Conduct first week monitoring

#### Deliverables:
- âœ… Bot deployed and running 24/7
- âœ… All features working in production
- âœ… Documentation complete
- âœ… Users trained

#### Success Criteria:
- Bot responds within 1 second
- No downtime in 24 hours
- All employees successfully registered
- Reports flowing to Google Sheets

---

## ðŸ“¦ Dependencies (requirements.txt)

```txt
# Telegram Bot Framework
aiogram==3.4.1
aiohttp==3.9.1

# Google Sheets Integration
gspread==6.0.0
oauth2client==4.1.3

# Scheduling
APScheduler==3.10.4

# Database
aiosqlite==0.19.0

# Environment Variables
python-dotenv==1.0.0

# Utilities
python-dateutil==2.8.2
pytz==2023.3

# Logging
colorlog==6.8.0
```

---

## ðŸ”§ Configuration Files

### .env.example
```env
# Telegram Bot Configuration
BOT_TOKEN=your_bot_token_here
ADMIN_TELEGRAM_ID=your_telegram_id_here

# Google Sheets Configuration
GOOGLE_SPREADSHEET_ID=your_spreadsheet_id_here
GOOGLE_CREDENTIALS_PATH=credentials/google_credentials.json

# Application Settings
TIMEZONE=Europe/Moscow
REMINDER_TIME=18:00
REMINDER_REPEAT_AFTER_MINUTES=30
DATABASE_PATH=database/database.db

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/bot.log

# Development
DEBUG=False
```

### .gitignore
```
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
env/
venv/
ENV/
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Environment
.env
.env.local

# Database
*.db
*.sqlite3

# Logs
*.log
logs/

# Credentials
credentials/
*.json

# IDE
.vscode/
.idea/
*.swp
*.swo
*~

# OS
.DS_Store
Thumbs.db

# Render
.render/
```

### runtime.txt (Ð´Ð»Ñ Render.com)
```
python-3.11.7
```

---

## ðŸŽ¯ Key Implementation Details

### 1. Bot Configuration (bot/config.py)

```python
import os
from pathlib import Path
from dotenv import load_dotenv

# Load environment variables
load_dotenv()

class Config:
    # Telegram
    BOT_TOKEN = os.getenv('BOT_TOKEN')
    ADMIN_TELEGRAM_ID = int(os.getenv('ADMIN_TELEGRAM_ID', 0))
    
    # Google Sheets
    GOOGLE_SPREADSHEET_ID = os.getenv('GOOGLE_SPREADSHEET_ID')
    GOOGLE_CREDENTIALS_PATH = os.getenv('GOOGLE_CREDENTIALS_PATH', 'credentials/google_credentials.json')
    
    # Application
    TIMEZONE = os.getenv('TIMEZONE', 'Europe/Moscow')
    REMINDER_TIME = os.getenv('REMINDER_TIME', '18:00')
    REMINDER_REPEAT_AFTER_MINUTES = int(os.getenv('REMINDER_REPEAT_AFTER_MINUTES', 30))
    
    # Database
    DATABASE_PATH = os.getenv('DATABASE_PATH', 'database/database.db')
    
    # Logging
    LOG_LEVEL = os.getenv('LOG_LEVEL', 'INFO')
    LOG_FILE = os.getenv('LOG_FILE', 'logs/bot.log')
    
    # Development
    DEBUG = os.getenv('DEBUG', 'False').lower() == 'true'
    
    # Mini App URL (Ð±ÑƒÐ´ÐµÑ‚ Ð½Ð° Render.com Ð¿Ð¾ÑÐ»Ðµ Ð´ÐµÐ¿Ð»Ð¾Ñ)
    WEBAPP_URL = os.getenv('WEBAPP_URL', 'https://your-app.onrender.com/webapp')
```

### 2. Database Service Interface

```python
class DatabaseService:
    async def create_user(telegram_id, full_name, username=None)
    async def get_user(telegram_id)
    async def get_all_users()
    async def update_user(telegram_id, **kwargs)
    async def delete_user(telegram_id)
    
    async def create_report(user_id, report_date, calls_count, kp_plus, kp, rejections, inadequate)
    async def get_report(user_id, report_date)
    async def get_user_reports(user_id, limit=10)
    async def get_daily_reports(report_date)
    async def check_report_exists(user_id, report_date)
```

### 3. Google Sheets Service Interface

```python
class GoogleSheetsService:
    async def append_report(report_data: dict)
    async def get_all_reports()
    async def get_report_by_date(date)
    async def update_report(row_number, report_data)
    async def delete_report(row_number)
```

### 4. Scheduler Service Interface

```python
class SchedulerService:
    async def start()
    async def stop()
    async def send_daily_reminders()
    async def send_repeat_reminders()
    async def check_and_notify_admin()
```

---

## ðŸ§ª Testing Strategy

### Manual Testing Checklist

#### User Registration
- [ ] New user can start bot with /start
- [ ] User provides full name
- [ ] User data saved to database
- [ ] User receives welcome message
- [ ] Main menu keyboard displayed

#### Report Submission
- [ ] User clicks "ðŸ“Š ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚"
- [ ] Mini App opens correctly
- [ ] User's name auto-filled
- [ ] All fields accept only numbers
- [ ] Submit button disabled if fields empty
- [ ] Form validates data before sending
- [ ] Report saved to database
- [ ] Report appears in Google Sheets
- [ ] User receives confirmation

#### Reminders
- [ ] Reminder sent at configured time
- [ ] Only users without today's report receive reminder
- [ ] Repeat reminder sent after 30 minutes
- [ ] No reminders after report submitted

#### Admin Panel
- [ ] Admin can access /admin
- [ ] Non-admin users cannot access /admin
- [ ] Status shows correct report count
- [ ] Employee list is complete
- [ ] Settings can be changed

#### Error Handling
- [ ] Invalid input handled gracefully
- [ ] Network errors don't crash bot
- [ ] Google Sheets API errors logged
- [ ] User receives helpful error messages

---

## ðŸš€ Deployment Guide

### Step 1: Prepare for Deployment

1. **Commit all code to GitHub:**
```bash
git add .
git commit -m "Initial bot implementation"
git push origin main
```

2. **Verify .env variables are in .gitignore**

3. **Test locally one more time**

### Step 2: Create Render.com Service

1. Go to https://render.com
2. Sign up / Log in (Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‡ÐµÑ€ÐµÐ· GitHub)
3. Click "New +" â†’ "Web Service"
4. Connect your GitHub repository
5. Configure service:
   - **Name:** telegram-report-bot
   - **Region:** Frankfurt (EU Central)
   - **Branch:** main
   - **Root Directory:** (leave empty)
   - **Runtime:** Python 3
   - **Build Command:** `pip install -r requirements.txt`
   - **Start Command:** `python bot/main.py`
   - **Plan:** Free

### Step 3: Configure Environment Variables

In Render.com dashboard, add all variables from .env:
- BOT_TOKEN
- ADMIN_TELEGRAM_ID
- GOOGLE_SPREADSHEET_ID
- GOOGLE_CREDENTIALS_PATH
- And all others...

**Important:** For GOOGLE_CREDENTIALS_PATH, you'll need to:
1. Copy content of google_credentials.json
2. Create environment variable GOOGLE_CREDENTIALS_JSON with JSON content
3. Modify code to load from environment variable instead of file

### Step 4: Deploy

1. Click "Create Web Service"
2. Wait for deployment (5-10 minutes)
3. Check logs for errors
4. Test bot in Telegram

### Step 5: Configure Webhook (ÐµÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ webhook Ð²Ð¼ÐµÑÑ‚Ð¾ polling)

```python
# Ð’ main.py Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾ÑÐ»Ðµ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð±Ð¾Ñ‚Ð°:
WEBHOOK_URL = f"https://your-app.onrender.com/webhook"
await bot.set_webhook(WEBHOOK_URL)
```

---

## ðŸ“š Resources & Documentation

### Official Documentation
- **aiogram:** https://docs.aiogram.dev/en/latest/
- **Telegram Bot API:** https://core.telegram.org/bots/api
- **Telegram Mini Apps:** https://core.telegram.org/bots/webapps
- **Google Sheets API:** https://developers.google.com/sheets/api
- **Render.com Docs:** https://render.com/docs

### Tutorials
- Creating Telegram Bot with aiogram 3.x
- Google Sheets API Python Quickstart
- Deploying Python app to Render.com

### Code Examples
- aiogram examples: https://github.com/aiogram/aiogram/tree/dev-3.x/examples
- gspread examples: https://docs.gspread.org/en/latest/user-guide.html

---

## ðŸŽ“ For Claude Code: Development Navigation

### When user asks "What's next?" or "What should I do now?"

**Check current project state and respond with:**

1. **If project not initialized:**
   - "Let's start by setting up the project structure. I'll create all necessary folders and files."
   - Then create project structure

2. **If structure exists but no code:**
   - "Now let's implement [next component from Phase]. I'll start with [specific file]."
   - Implement next logical component

3. **If basic bot works:**
   - "Great! Basic bot is working. Let's add [next feature]."
   - Implement next feature from development plan

4. **If bot complete but not deployed:**
   - "Bot is ready for deployment! Let's prepare it for Render.com."
   - Guide through deployment steps

5. **If deployed:**
   - "Bot is live! Let's test all features and fix any issues."
   - Test and debug

### Progress Tracking

Always check:
- [ ] Phase 1: Infrastructure âœ“ / âœ—
- [ ] Phase 2: Core Features âœ“ / âœ—
- [ ] Phase 3: Advanced Features âœ“ / âœ—
- [ ] Phase 4: Deployment âœ“ / âœ—

### Quick Commands for User

Suggest these commands based on context:
- `python bot/main.py` - Run bot locally
- `git status` - Check what changed
- `git add . && git commit -m "message"` - Commit changes
- `pip install -r requirements.txt` - Install dependencies
- `pytest` - Run tests (if we add them)

---

## ðŸ†˜ Troubleshooting Guide

### Common Issues & Solutions

#### Bot doesn't respond
1. Check if BOT_TOKEN is correct
2. Verify bot is running (`python bot/main.py`)
3. Check internet connection
4. Look at console logs for errors

#### Google Sheets not updating
1. Verify GOOGLE_SPREADSHEET_ID is correct
2. Check if service account has access to sheet
3. Verify credentials JSON file exists
4. Check Google API quotas

#### Mini App doesn't open
1. Verify WEBAPP_URL is correct
2. Check if webapp files are accessible
3. Test in Telegram mobile app (desktop may not support)
4. Check browser console for errors

#### Database errors
1. Check if database file exists
2. Verify file permissions
3. Check if tables were created
4. Try deleting database.db and recreating

#### Reminders not working
1. Verify timezone is correct
2. Check if scheduler is started
3. Verify REMINDER_TIME format
4. Check logs for scheduler errors

---

## ðŸ“ˆ Future Enhancements (Post-MVP)

### Phase 2 Features (ÐµÑÐ»Ð¸ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ)
- [ ] Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ°Ð¼ (Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ¸)
- [ ] Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð² Ð² Excel
- [ ] Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð²
- [ ] ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸ Ðº Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð°Ð¼
- [ ] Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŽ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
- [ ] Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ CRM ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ð¼Ð¸
- [ ] ÐœÐ¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ (Ð²Ð¼ÐµÑÑ‚Ð¾ Mini App)
- [ ] Ð“Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð¹ Ð²Ð²Ð¾Ð´ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- [ ] AI-Ð°Ð½Ð°Ð»Ð¸Ð· ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð²

---

## âœ… Success Metrics

### Technical Metrics
- Bot uptime: >99%
- Response time: <1 second
- Error rate: <1%
- Reports processed: 100%

### Business Metrics
- Time to submit report: <2 minutes (vs 10+ minutes manually)
- Report completion rate: >95%
- User satisfaction: >4/5
- Adoption rate: 100% of employees

---

## ðŸ“ž Support & Maintenance

### Daily Monitoring
- Check bot is running
- Review error logs
- Verify reports in Google Sheets
- Monitor user complaints

### Weekly Tasks
- Review all logs
- Check database size
- Update dependencies if needed
- Backup database and sheets

### Monthly Tasks
- Review and optimize code
- Update documentation
- Plan new features
- User feedback collection

---

## ðŸŽ‰ Project Completion Checklist

- [ ] All features implemented
- [ ] All tests passed
- [ ] Documentation complete
- [ ] Deployed to production
- [ ] Users trained
- [ ] Monitoring set up
- [ ] Backup strategy in place
- [ ] Support process defined
- [ ] Success metrics achieved
- [ ] User feedback collected

---

**Document Version:** 1.0  
**Last Updated:** 18.01.2026  
**Author:** Claude (Anthropic)  
**Project Owner:** [Your Name]  
**Status:** Ready for Development ðŸš€

---

## ðŸ”„ Next Steps for Development

1. **Initialize project structure** (you can ask me: "Create project structure")
2. **Set up Telegram Bot** (you can ask me: "Help me create Telegram bot")
3. **Configure Google Sheets** (you can ask me: "Guide me through Google Sheets setup")
4. **Start coding!** (you can ask me: "Let's implement user registration")

**Ready to start? Just tell me what you want to do next!** ðŸŽ¯
